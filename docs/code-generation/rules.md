# Code generation rules

Since every application has it's own rules on how to write and structure code,
we made it possible to configure the way your code is autogenerated.
You can specify your own rules and apply them to the code generator.

The goal of a rule is to run a code assembler.
[Here you can find a full list of built-in code assemblers](assemblers#built-in-assemblers).

 
# Built-in rules

- [AssemblerRule](#AssemblerRule)
- [TypenameMatchesRule](#TypenameMatchesRule)

## AssemblerRule

```php
use Phpro\SoapClient\CodeGenerator\Assembler;
use Phpro\SoapClient\CodeGenerator\Rules;

$rule = Rules\AssembleRule(new Assembler\GetterAssembler())
```

The `AssemblerRule` will always apply an assembler in the right context. 
This way, the code is added during every code generation command.

In the example above, a getter will be created for every property in the SOAP type.


## TypenameMatchesRule

```php
use Phpro\SoapClient\CodeGenerator\Assembler;
use Phpro\SoapClient\CodeGenerator\Rules;

new Rules\TypenameMatchesRule(
    new Rules\AssembleRule(new Assembler\RequestAssembler()),
    '/Request$/'
)
```

The `TypenameMatchesRule` can be used in the types generation command and contains a subRule and a regular expression.
The subRule is mostly a regular AssmbleRule, but can be any class that implements the RuleInterface.
The regular expression will be matched against the normalized SOAP type name. 
If the regular expression matches and the subRule is accepted, the defined assembler will run.
 
In the example above, the `RequestInterface` is added to the class if the SOAP property ends on `Request`.
